{"title":"get_agent_data","content":"import requests\nimport json\nimport logging\n\n# Configuration for BUE REST API\nBEARER_TOKEN = \"\"\nAPI_ENDPOINT = f\"url\"\n\ndef fetch_agent_details(agent):\n    \"\"\"\n    Fetches agent profile information from BUE REST API.\n    \n    Parameters:\n    - agent (str): The agent name for fetching profile information.\n    \n    Returns:\n    - A JSON object containing the agent information.\n    \"\"\"\n    authorization = {\n        \"Authorization\": BEARER_TOKEN\n    }\n    \n\n    try:\n        response = requests.get(API_ENDPOINT + agent, headers=authorization)\n        if response.ok:\n            return response.json()\n        else:\n            logging.error(f\"Failed to fetch agent details. Response: {response.text}\")\n            return \"Failed to fetch agent details.\"\n    except Exception as e:\n        logging.exception(f\"An error occurred while fetching agent details: {str(e)}\")\n        return f\"An error occurred while fetching agent details: {str(e)}\"\n\n\nagent=\"agent@microsoft.com\"\n# Execute the api invocation\nresult = fetch_agent_details(agent)\nprint(result)\n","file_name":null,"description":null,"timestamp":"2024-04-03T19:15:13.942344","user_id":"default"}